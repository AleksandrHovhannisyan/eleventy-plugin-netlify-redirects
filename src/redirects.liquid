{%- comment -%}Static redirects (e.g., splats).{%- endcomment -%}
{%- if staticRedirects -%}
{%- for redirectRule in staticRedirects -%}
{%- assign redirectFrom = redirectRule | first -%}
{%- assign redirectTo = redirectRule | last -%}
{{ redirectFrom }}  {{ redirectTo }}
{% endfor -%}
{%- endif %}
{%- comment -%}Per-page redirects (e.g., if a page gets indexed but you want to change its URL).{%- endcomment -%}
{% for page in collections.all %}
    {%- if page.url and page.data.redirectFrom -%}
        {%- comment -%}Array of redirects{%- endcomment -%}
        {%- if page.data.redirectFrom.first -%}
            {%- for oldUrl in page.data.redirectFrom %}
{{ oldUrl }}  {{ page.url }}
            {%- endfor -%}
        {%- comment -%}Single redirect (string){%- endcomment -%}
        {%- else -%}
{{ page.data.redirectFrom }}  {{ page.url }}
        {%- endif %}
    {%- endif -%}
{%- endfor -%}
